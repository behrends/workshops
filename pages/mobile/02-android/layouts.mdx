import { Callout } from 'nextra/components'

# UI-Layouts

<Callout>
  **Dauer:** 45 Minuten

  - Layouts als XML und im Editor

  **Ziel:** Layouts im Editor und XML bearbeiten
</Callout>

<Callout type="error" emoji="‚ÄºÔ∏è">
**Disclaimer**
Android Studio und die verschiedenen Aspekte der 
Android-Entwicklung √§ndern sich manchmal mehrmals im Jahr.
Der Dozent wird in der Vorbereitung nicht alle neuen
oder ge√§nderten Aspekte ber√ºcksichtigen k√∂nnen.

&xrarr; Es kann immer wieder passieren, dass etwas im
Live Coding nicht klappt oder hier nicht ganz korrekt ist
üòè
</Callout>

Die Datei `activity_main.xml` im Verzeichnis 
`res/layout` beschreibt ein UI-Layout, das z.B. von 
einer `Activity` verwendet werden kann (bei uns 
im Projekt `MainActivity.kt`).

Dort ist die Verwendung eines `Constraint-Layouts`
zu sehen. Dieses Layout wird h√§ufig in Android-Projekten
verwendet, u.a. da es sehr flexibel ist und gut f√ºr
verschiedene Display-Gr√∂√üen funktioniert.

Hier im ‚ÄûCrashkurs‚Äú werden wir aufgrund der knappen
Zeit das `Linear-Layout` verwenden, welches deutlich
einfacher zu verwenden ist (auch wenn es nicht sehr
flexibel ist).

<Callout type="warning">
Es gibt einige verschiedene Layout-Arten. 

Das `Constraint-Layout` wird ausf√ºhrlich in
Abschnitt 3 des Videokurses zu Android beschrieben.

**&xrarr; F√ºr ‚Äûechte‚Äú Projekte lohnt es sich, das 
Constraint-Layout einzusetzen.** <br/>

Weitere Ressourcen siehe ganz unten.
</Callout>

<Callout emoji="‚ÄºÔ∏è">
**Hinweis:** 

Im Oktober 2023 ist bereits
[Jetpack Compose](https://developer.android.com/jetpack/compose)
der standardm√§√üige Ansatz zur UI-Entwicklung in Android (siehe z.B. [‚Äû_Get started with Android_‚Äú](https://developer.android.com/get-started/overview) in den Android Developer Docs).

Mit Compose wird das UI direkt im Kotlin-Code ohne XML-Layouts deklariert.
</Callout>

## Umstellung auf `Linear Layout`

Ein UI-Layout wird in Android-Projekten als XML-Datei
definiert. Diese ‚Äûgew√∂hnliche‚Äú Textdatei im XML-Format
kann in Android Studio durch grafische Werkzeuge 
auch im Layout-Editor bearbeitet werden. Die 
Ver√§nderungen im Layout-Editor werden durch Android
Studio automatisch in der zugeh√∂rigen XML-Datei 
gespeichert. Dies wird durch Live-Coding vorgef√ºhrt.

Wir √∂ffnen in `activity_layout.xml` als XML-Datei im Text-Editor 
(d.h. in der ‚Äû_Code_‚Äú-Ansicht) und ersetzen das `Constraint-Layout`
mit einem `Linear-Layout`:

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity">
</LinearLayout>
```

<Callout type="info">
**Tipps**

- Doppelklick auf den Editor-Reiter maximiert den Editor
- Alles unter der ersten Zeile l√∂schen (`<?xml ‚Ä¶ >`)
- Dann eingeben `<Linea` und `LinearLayout` aus der Auto-Vervollst√§ndigung w√§hlen
- Auf dem rot unterkringeltem Text Tasten `alt`+`enter` dr√ºcken und `Add Android Prefix` w√§hlen
- f√ºr `layout_width` und `layout_height` den Wert `"match_parent"` eingeben
- Element mit `</LinearLayout>` schlie√üen
- Die restlichen Werte mit Auto-Vervollst√§ndigung hinzuf√ºgen(`android:orientation`, `xml:tools`, `tools:context`)
</Callout>

Als n√§chstes kommt ein `EditText`-Element zur Eingabe eines 
Titels f√ºr die Notiz hinzu:

```xml
<EditText
    android:id="@+id/editTextTodo"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:inputType="text"
    android:text="Todo eingeben" />
```

<Callout type="warning">
Wir k√∂nnen versuchen, im grafischen Layout-Editor (die ‚ÄûDesign‚Äú-Ansicht),
aus der _Palette_ in der Kategorie `Text` ein `Plain Text`-Element per
‚ÄûDrag-and-Drop‚Äú in das `Linear-Layout` zu ziehen. Eventuell erhalten wir zus√§tzliche Attribute im XML.

&xrarr; Wir k√∂nnen in der Design- oder Code-Ansicht die gew√ºnschten
Anpassungen vornehmen.
</Callout>

Au√üerdem k√∂nnen wir noch kurz dar√ºber sprechen, dass
Texte bzw. Stings, die im UI angezeigt werden, in die
Datei `res/values/strings.xml` ausgelagert werden sollten
(u.a. wenn die App mehrsprachig werden soll).

<Callout type="warning">
Um den aktuellen Stand der App nachzuvollziehen, sollte das 
Android-Studio-Projekt gezippt an passender Stelle in Moodle 
hochgeladen werden (vorher mit `./gradlew clean` oder
`Build > Clean Project` aufr√§umen).
</Callout>

<Callout type="warning">
**Vertiefendes Material**

[UI-Guide zu Linear Layouts](https://developer.android.com/develop/ui/views/layout/linear) (mit Empfehlung/Verweis auf Compose‚Ä¶)

**Constraint Layout** (empfohlen):

- Abschnitt 3 im Videokurs zu Android erl√§utert das `Constraint-Layout`
- [Android Developer Guides](https://developer.android.com/training/constraint-layout)
</Callout>

**PAUSE**