import { Callout } from 'nextra/components';

# Interaktion (15 Minuten)

Mit p5.js ist es auch m√∂glich, Interaktionen in grafische Darstellungen einzubauen. Wir werden uns anschauen, wie wir unseren Entwurf des DHBW-Logos mit der Maus und der Tastatur beeinflussen k√∂nnen.

## Vorbereitung: Variablen (3 Minuten)

An zwei Stellen im Code verwenden wir ein helles Rot:

```js
fill("#EA1E26");

// Code hier weggelassen

fill("#EA1E26");
```

Dies l√§sst sich durch eine Variable namens `dhbwRed` wie folgt umschreiben:

```js
let dhbwRed = "#EA1E26";

fill(dhbwRed);

// Code hier weggelassen

fill(dhbwRed);
```

Der Vorteil hiervon ist nun, dass wir diese Farbe an einer Stelle im Code √§ndern k√∂nnen, was sich auf das gesamte Programm auswirkt.

## Reaktion auf gedr√ºckten Mausknopf: Farbe √§ndern (3 Minuten)

Folgender Code-Ausschnitt zeigt, wie wir bei gedr√ºcktem Mausknopf das Rot durch ein Orange ersetzen:

```js
let dhbwRed = "#EA1E26";

if (mouseIsPressed) {
  dhbwRed = "orange";
}

fill(dhbwRed);

// Code hier weggelassen

fill(dhbwRed);
```

In p5.js steht uns also mit `mouseIsPressed` eine M√∂glichkeit zur Verf√ºgung, um Abzufragen, ob der Mausknopf aktuell gedr√ºckt ist oder nicht. Dazu verwenden wir eine `if`-Bedingung, die bei gedr√ºcktem Mausknopf die Farbe auf orange setzt. Ist der Mausknopf nicht gedr√ºckt, dann erschient wieder das urspr√ºngliche Rot. Dies funktioniert so, weil p5.js die Funktion `draw()` wiederholt bis zum Programmstopp aufruft.

## Tastendr√ºcke abfragen (‚Äûdark mode‚Äú) (3 Minuten)

In der Funktion `draw()` von p5.js k√∂nnen wir mit `key` herausfinden, ob eine bestimmte Taste auf der Tastatur gedr√ºckt wurde, z.B. ‚Äûb‚Äú:

```js
if (key === "b") {
  // Code, der hier steht, wird ausgef√ºhrt,
  // wenn die Taste ‚Äûb‚Äú gedr√ºckt wurde
}
```

Mit der ‚Äûb‚Äú-Taste soll die Hintergrundfarbe auf schwarz wechseln (ein einfacher ‚Äûdark mode‚Äú). Dazu m√ºssen wir zun√§chst au√üerhalb der Funktionen `setup()` und `draw()` eine globale Variable definieren und diese im Aufruf von `background()` in `draw()` verwenden:

```js
let bgColor = "white";

function setup() {
  createCanvas(400, 400);
}

function draw() {
  background(bgColor);
  // der restliche Code bleibt gleich‚Ä¶
}
```

Bevor die Farbe des Hintergrunds gesetzt wird, k√∂nnen wird ggf. die Farbe auf Schwarz √§ndern, wenn ‚Äûb‚Äú gedr√ºckt wurde:

```js
function draw() {
  if (key === "b") {
    bgColor = "black"
  } else if (key === "w") {
    bgColor = "white"
  }
  
  background(bgColor);
  // der restliche Code bleibt gleich‚Ä¶
}
```

Oben ist auch zus√§tzlich zu sehen, wie der Hintergrund nach Dr√ºcken von ‚Äûw‚Äú wieder in wei√ü erscheinen soll.

## Verwendung der Position des Mauszeigers (5 Minuten)

Im jedem Durchlauf von `draw()` k√∂nnen wir auf `mouseX` und `mouseY` zugreigen, um die aktuelle x- bzw. y-Koordinate des Mauszeigers zuzugreifen.

Das folgende Beispiel zeigt, wie die Farbe des grauen Quadrats auf einen blaugr√ºnen Ton (_cyan_) wechselt, wenn der Mauszeiger in der Fl√§che des grauen Quadrats ist:

```js
let dhbwGrey = "#73818D";

if (mouseX >= 205 && mouseX <= 325 
  && mouseY >= 140 && mouseY <= 260) {
  dhbwGrey = "cyan";
}
fill(dhbwGrey);
square(205, 140, 120, 4);
```

Auch hier nutzen wir eine Variable (`dhbwGrey`), die den aktuellen Wert der Farbe f√ºr das rechte (urspr√ºnglich graue) Quadrat enth√§lt. Mit `&&` werden in der `if`-Bedingung die vier relevanten x- und y-Koordinaten des Mauszeigers in Bezug auf das Quadrat logisch miteinander verkn√ºpft, sodass das Quadrat nur dann t√ºrkis (_cyan_) erscheint, wenn der Mauszeiger sich im Bereich des Quadrats befindet.

<Callout type="info" emoji="üë®üèª‚Äçüíª">
Experimentieren Sie mit eigenen Ideen:

- Farbe der anderen Formen durch Mausklick, Mausbewegung oder Tastatur √§ndern
- Gr√∂√üe und/oder Position der Teilformen des Logos beeinflussen (Maus oder Tastatur)
- es gibt zahllose M√∂glichkeiten, kreativ zu werden‚Ä¶
</Callout>
