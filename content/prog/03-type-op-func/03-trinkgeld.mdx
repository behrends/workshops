import { Callout } from 'nextra/components'

# Mini-Projekt: Trinkgeldrechner

<Callout>
  **Dauer:** 45-60 Minuten

  - Arithmetische Operatoren anwenden
  - Vergleichs- und logische Operatoren nutzen
  - Bedingungsoperator einsetzen
  - Eingabe mit `readline-sync`
  - Ausgabe mit `console.log` und Template-Strings

  **Ziel:** Bisherige Konzepte in einem kleinen Projekt anwenden
</Callout>

In diesem Mini-Projekt entwickeln wir schrittweise einen
Trinkgeldrechner. Die Aufgaben bauen aufeinander auf und
werden zunehmend anspruchsvoller.

<Callout type="warning">
**Wichtig:** Bei diesen √úbungen sollen nur die bisher besprochenen
Konzepte eingesetzt werden:

- Variablen und Konstanten (`let`, `const`)
- Ein- und Ausgabe (`console.log`, `readline-sync`)
- Datentypen (`number`, `string`, `boolean`)
- Operatoren (arithmetische, Vergleichs-, logische, Bedingungsoperator)

Insbesondere verwenden wir hier **noch kein `if`** &mdash;
f√ºr einfache Fallunterscheidungen nutzen wir den Bedingungsoperator (`? :`).

Zur Festigung der bisher besprochenen Konzepte sollte noch kein
Coding-Agent eingesetzt werden. Ein KI-Chat kann bei Bedarf f√ºr
gezielte Fragen genutzt werden ‚Äî aber nicht f√ºr komplette L√∂sungen.
</Callout>

<Callout type="info">
Wir erstellen eine neue Datei `trinkgeld.js` im Projektordner.
Nicht vergessen, `readline-sync` zu importieren, wenn wir
Benutzereingaben verwenden m√∂chten.
</Callout>

## Aufgabe 1: Grundberechnung (Einstieg)

Schreibe ein Programm, das:

1. Einen Rechnungsbetrag vom Benutzer einliest
2. Ein Trinkgeld von 10% berechnet
3. Den Trinkgeldbetrag und den Gesamtbetrag ausgibt

**Beispielausgabe:**

```
Rechnungsbetrag: 50
Trinkgeld (10%): 5
Gesamtbetrag: 55
```

<Callout type="warning">
**Hinweis:** F√ºr die Eingabe von Zahlen mit Nachkommastellen
k√∂nnen wir `questionFloat` aus `readline-sync` einsetzen:

```js
import { questionFloat } from 'readline-sync';

let input = questionFloat("Betrag: ");
```
</Callout>

## Aufgabe 2: Verschiedene Prozents√§tze (Einstieg)

Das Programm wird so erweitert, dass es drei verschiedene
Trinkgeld-Optionen berechnet und ausgibt:

- 5% (sparsam)
- 10% (normal)
- 15% (gro√üz√ºgig)

**Beispielausgabe:**

```
Rechnungsbetrag: 80
--- Trinkgeld-Optionen ---
Sparsam  (5%): 4.00  -> Gesamt: 84.00
Normal   (10%): 8.00 -> Gesamt: 88.00
Gro√üz√ºgig (15%): 12.00 -> Gesamt: 92.00
```

<Callout type="info">
**Tipp:** Template-Strings eignen sich f√ºr eine √ºbersichtliche Ausgabe:

```js
console.log(`Normal (10%): ${tip10} -> Gesamt: ${total10}`);
```
</Callout>

<Callout type="info">
**Bonus:** Die Ausgabe der Zahlen l√§sst sich auf zwei
Nachkommastellen formatieren. Dazu kann die
Methode `toFixed(2)` verwendet werden:

```js
let number = 17.1919;
console.log(number.toFixed(2)); // Ausgabe: "17.19"
```

`toFixed` gibt einen Text (String) zur√ºck und rundet dabei.
</Callout>

## Aufgabe 3: Aufteilung auf Personen (√úbung)

Das Programm wird um die M√∂glichkeit erweitert, den Gesamtbetrag
auf mehrere Personen aufzuteilen:

1. Zus√§tzlich nach der Anzahl der Personen fragen
2. Betrag pro Person berechnen (bei 15% Trinkgeld)
3. Betrag pro Person ausgeben

**Beispielausgabe:**

```
Rechnungsbetrag: 120
Anzahl Personen: 4
--- Aufteilung ---
Gesamtbetrag (inkl. 15% Trinkgeld): 138.00
Betrag pro Person: 34.50
```

## Aufgabe 4: Service-Bewertung (√úbung)

Wir nutzen den **Bedingungsoperator**, um basierend auf dem
gew√§hlten Trinkgeld-Prozentsatz eine Bewertung auszugeben:

1. Den Benutzer nach dem gew√ºnschten Trinkgeld-Prozentsatz fragen
2. "Gro√üz√ºgig!" ausgeben, wenn der Prozentsatz >= 15 ist
3. "Standard" ausgeben, wenn der Prozentsatz < 15 ist

**Beispielausgabe:**

```
Rechnungsbetrag: 50
Trinkgeld-Prozentsatz: 18
Trinkgeld: 9.00
Bewertung: Gro√üz√ºgig!
```

<Callout type="info">
**Erinnerung:** Der Bedingungsoperator hat folgende Struktur:

```js
let result = condition ? valueIfTrue : valueIfFalse;
```
</Callout>

## Aufgabe 5: Eingabevalidierung (Vertiefung)

Mit **Vergleichs-** und **logischen Operatoren** werden die
Eingaben √ºberpr√ºft und entsprechende Meldungen ausgegeben:

1. Der Rechnungsbetrag muss gr√∂√üer als 0 sein
2. Der Trinkgeld-Prozentsatz muss zwischen 0 und 100 liegen
3. Eine Warnung ausgeben, wenn eine Eingabe ung√ºltig ist

**Beispiel f√ºr g√ºltige Eingabe:**

```
Rechnungsbetrag: 75
Trinkgeld-Prozentsatz: 15
Eingaben g√ºltig: true
Trinkgeld: 11.25
Gesamtbetrag: 86.25
```

**Beispiel f√ºr ung√ºltige Eingabe:**

```
Rechnungsbetrag: -10
Trinkgeld-Prozentsatz: 15
Eingaben g√ºltig: false
Warnung: Ung√ºltige Eingaben!
```

<Callout type="warning">
**Hinweis:** Logische Operatoren eignen sich, um mehrere Bedingungen
zu verkn√ºpfen:

```js
let isValid = amount > 0 && percent >= 0 && percent <= 100;
```

Die Ausgabe der Warnung l√§sst sich mit dem Bedingungsoperator l√∂sen.
</Callout>

## Aufgabe 6: Komplettl√∂sung (Vertiefung)

Alle bisherigen Elemente werden zu einem vollst√§ndigen
Trinkgeldrechner kombiniert mit folgenden Features:

1. Eingabe von Rechnungsbetrag, Prozentsatz und Personenanzahl
2. Validierung aller Eingaben
3. Berechnung von Trinkgeld, Gesamtbetrag und Betrag pro Person
4. Bewertung des Trinkgelds (sparsam/normal/gro√üz√ºgig)
5. √úbersichtliche, formatierte Ausgabe

Regeln zur Bewertung des Trinkgelds:
- Unter 10%: "Sparsam"
- 10% bis unter 15%: "Normal"
- Ab 15%: "Gro√üz√ºgig"

**Beispielausgabe:**

```
=== Trinkgeldrechner ===
Rechnungsbetrag: 95.50
Trinkgeld (%): 18
Anzahl Personen: 3

--- Ergebnis ---
Rechnungsbetrag:  95.50
Trinkgeld (18%):  17.19
Gesamtbetrag:     112.69
Pro Person:       37.56
Bewertung:        Gro√üz√ºgig!
```

## Optionale Aufgaben (Bonus)

Falls noch Zeit zur Verf√ºgung steht, kann die letzte Aufgabe
mit folgenden Ideen erweitert werden. Die Reihenfolge der
Aufgaben ist hierbei egal.

### Ausgabe in Spalten ausrichten

Formatiere die Ausgabe so, dass **Beschriftungen** und **Zahlen**
sauber **untereinander in Spalten** stehen (wie in einer Tabelle):

* Nutze `padEnd(...)` f√ºr die Texte (links)
* Nutze `padStart(...)` f√ºr die Zahlen (rechts)
* Zahlen weiterhin mit `toFixed(2)` formatieren

**Beispielausgabe:**

```
--- Ergebnis ---
Rechnungsbetrag:    95.50
Trinkgeld (18%):    17.19
Gesamtbetrag:      112.69
Pro Person:         37.56
```

### Aufrunden auf ‚Äûsch√∂ne‚Äú Betr√§ge

Erweitere das Programm so, dass der **Gesamtbetrag** (inkl. Trinkgeld)
auf einen ‚Äûsch√∂nen‚Äú Betrag aufgerundet wird:

* Auf den **n√§chsten vollen Euro** (z.B. 112.69 ‚Üí 113.00)
* Gib zus√§tzlich aus, wie viel **extra Trinkgeld** dadurch entsteht

**Beispielausgabe:**

```
Gesamtbetrag (inkl. Trinkgeld): 112.69
Aufgerundet auf: 113.00
Extra Trinkgeld durch Aufrunden: 0.31
```

---

### Mindest-Trinkgeld

Erweitere das Programm so, dass ein **Mindest-Trinkgeld** gilt:

* Wenn das berechnete Trinkgeld **unter 1.00** liegt, setze es auf **1.00**
* Nutze daf√ºr den **Bedingungsoperator** (`? :`)

**Beispielausgabe:**

```
Rechnungsbetrag: 5
Trinkgeld (%): 10
Trinkgeld: 1.00
Gesamtbetrag: 6.00
```

---

### Komma als Dezimaltrenner

Erweitere die Eingabe so, dass Betr√§ge auch mit **Komma** eingegeben
werden k√∂nnen (z.B. `12,50`):

* Betrag als **String** einlesen
* `,` durch `.` ersetzen
* Danach in eine Zahl umwandeln

**Beispielausgabe:**

```
Rechnungsbetrag eingeben: 12,50
Rechnungsbetrag (Zahl): 12.50
```

### Farbige Ausgabe mit `util.styleText`

Erweitere den Trinkgeldrechner so, dass bestimmte Ausgaben **farbig** und/oder **formatiert** (z.B. fett, unterstrichen) erscheinen:

1. Importiere `styleText` aus `node:util`
2. Gib die √úberschrift `=== Trinkgeldrechner ===` z.B. **blau + fett** aus
3. Gib die Warnung bei ung√ºltigen Eingaben **rot + fett** aus
4. F√§rbe die Bewertung abh√§ngig vom Prozentsatz (nur mit Bedingungsoperator):

   * **Sparsam** (< 10) ‚Üí rot
   * **Normal** (< 15) ‚Üí gelb
   * **Gro√üz√ºgig!** (>= 15) ‚Üí gr√ºn

**Beispielausgabe (Farben im Terminal sichtbar):**

```
=== Trinkgeldrechner ===   (blau, fett)

--- Ergebnis ---
Warnung: Ung√ºltige Eingaben!   (rot, fett)
Bewertung: Gro√üz√ºgig!          (gr√ºn)
```

<Callout type="info">
**Tipp:** `styleText` kann ein Format oder ein Array aus Formaten bekommen:

```js
import { styleText } from 'node:util';

console.log(styleText(['underline', 'italic'], 'My italic underlined message'));
```

Siehe https://nodejs.org/api/util.html
</Callout> 

## Zusammenfassung

<Callout emoji="üóíÔ∏è">
In diesem Mini-Projekt haben wir folgende Konzepte angewendet:

- **Variablen und Konstanten** f√ºr Zwischenergebnisse
- **Arithmetische Operatoren** (`*`, `/`) f√ºr Berechnungen
- **Vergleichsoperatoren** (`>`, `>=`, `<=`) f√ºr Validierungen
- **Logische Operatoren** (`&&`) zum Verkn√ºpfen von Bedingungen
- **Bedingungsoperator** (`? :`) f√ºr einfache Fallunterscheidungen
- **Template-Strings** f√ºr formatierte Ausgaben
- **Ein- und Ausgabe** mit `readline-sync` und `console.log`
</Callout>
