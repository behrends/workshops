import { Callout } from 'nextra/components'

# √úbungen zum G√ºltigkeitsbereich (Scope)

<Callout>
  **Dauer:** 15-20 Minuten

  **Ziel:** Verstehen, wo Variablen und Konstanten g√ºltig sind
</Callout>

Der **G√ºltigkeitsbereich** (englisch: _Scope_) bestimmt, wo im Code
eine Variable oder Konstante sichtbar und verwendbar ist.

<Callout type="info">
**Wichtige Regeln:**

- `let` und `const` haben **Block-Scope**: Sie sind nur innerhalb
  des Blocks `{ ... }` g√ºltig, in dem sie deklariert wurden.
- Innere Bl√∂cke k√∂nnen auf Variablen √§u√üerer Bl√∂cke zugreifen.
- Variablen mit gleichem Namen in verschiedenen Bl√∂cken sind
  unterschiedliche Variablen (**Shadowing**).
</Callout>

Bei diesen √úbungen gilt: **Erst √ºberlegen, dann ausf√ºhren!**

## Aufgabe 1: Block-Scope mit Modifikation (Einstieg)

Was gibt dieser Code aus?

```js
let x = 10;

if (true) {
  let x = 20;
  x = x + 5;
  console.log("Innerhalb:", x);
}

x = x + 1;
console.log("Au√üerhalb:", x);
```

> **Ausgabe:** \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

## Aufgabe 2: Zugriff auf √§u√üere Variablen (Einstieg)

Was gibt dieser Code aus?

```js
let name = "Anna";

function greet() {
  name = "Bernd";
  console.log("Hallo " + name);
}

greet();
console.log("Name ist jetzt:", name);
```

> **Ausgabe:** \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

## Aufgabe 3: Fehler finden (√úbung)

Dieser Code erzeugt einen Fehler. Welchen und warum?

```js
let counter = 0;

function increment() {
  counter = counter + 1;
  let counter = 10;
  console.log("In Funktion:", counter);
}

increment();
```

*‚Üë Markiere den Fehler im Code.*

> **Ausgabe/Fehler:** \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>
> **Korrektur:** \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

<Callout type="info">
**Tipp:** JavaScript kennt die lokale Variable `counter` bereits,
bevor sie mit `let` deklariert wird (Temporal Dead Zone).
</Callout>

## Aufgabe 4: Funktionen in Funktionen (√úbung)

Was gibt dieser Code aus?

```js
const x = "global";

function outer() {
  const x = "outer";

  function inner() {
    const x = "inner";
    console.log(x);
  }

  inner();
  console.log(x);
}

outer();
console.log(x);
```

> **Ausgabe:** \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

## Aufgabe 5: Praktisches Beispiel korrigieren (Vertiefung)

Finde den Fehler und korrigiere ihn:

```js
function isAdult(age) {
  if (age >= 18) {
    const status = "erwachsen";
  } else {
    const status = "minderj√§hrig";
  }
  return status;
}

console.log(isAdult(25));
```

*‚Üë Markiere den Fehler im Code.*

> **Ausgabe/Fehler:** \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>
> **Korrektur:** \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

## Aufgabe 6: Closure (Vertiefung)

Was gibt dieser Code aus?

```js
function createCounter() {
  let count = 0;

  function increment() {
    count = count + 1;
    return count;
  }

  return increment;
}

const counter = createCounter();
console.log(counter());
console.log(counter());
console.log(counter());
```

> **Ausgabe:** \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

<Callout type="info">
**Closure:** Die innere Funktion `increment` "merkt" sich die Variable
`count` aus dem √§u√üeren Scope, auch nachdem `createCounter` beendet ist.
</Callout>

## Zusammenfassung

<Callout emoji="üóíÔ∏è">
In diesen √úbungen haben wir gelernt:

- **Block-Scope:** `let` und `const` sind nur im eigenen Block `{ ... }` g√ºltig
- **Shadowing:** Gleichnamige Variablen in verschiedenen Bl√∂cken sind unabh√§ngig
- **Zugriff nach au√üen:** Innere Bl√∂cke k√∂nnen auf √§u√üere Variablen zugreifen
- **Temporal Dead Zone:** Variablen k√∂nnen nicht vor ihrer Deklaration verwendet werden
- **Closures:** Funktionen k√∂nnen sich Variablen aus ihrem Entstehungs-Scope merken
</Callout>
